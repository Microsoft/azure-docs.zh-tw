---
title: 資料集合
description: 瞭解開發應用程式時要收集的範例資料
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 05/06/2020
ms.openlocfilehash: c901d4024292ad03a9195ad0cbd226f473917ee4
ms.sourcegitcommit: 78ecfbc831405e8d0f932c9aafcdf59589f81978
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/23/2021
ms.locfileid: "98738079"
---
# <a name="data-collection-for-your-app"></a>應用程式的資料收集

Language Understanding (LUIS) 應用程式會在應用程式開發過程中需要資料。

## <a name="data-used-in-luis"></a>LUIS 中使用的資料

LUIS 會使用文字作為資料來訓練和測試您的 LUIS 應用程式，以進行 [意圖](luis-concept-intent.md) 的分類和 [實體](luis-concept-entity-types.md)的提取。 您需要夠大的資料集，讓您有足夠的資料來為定型和測試建立個別的資料集，而這些資料集的多樣性和散發都是在下面明確地呼叫。  這些集合中的資料不應該重迭。

## <a name="training-data-selection-for-example-utterances"></a>定型資料選擇，例如語句

根據下列準則，選取定型集的語句：

* **實際資料最適合**：
    * **來自用戶端應用程式的實際資料**：選取語句是用戶端應用程式中的實際資料。  如果客戶今天傳送的 web 表單與您的查詢，而您正在建立 bot，您就可以使用 web 表單資料開始。
    * 有 **向來源的資料**：如果您沒有任何現有的資料，請考慮使用語句。  請嘗試從您實際的使用者人口擴展來源語句，以取得應用程式將會看到的實際資料的最佳近似值。 以人為來源的人類語句優於電腦產生的語句。  當您建立在特定模式中產生的綜合語句資料集時，將不會有許多您在建立語句時所看到的自然變化，也不會在生產環境中順利完成。
* **資料多樣性**：
    * **區域多樣性**：請確定每個意圖的資料都盡可能不同，包括片語 _(的_ 單字選擇) 和 _文法_。  如果您想要瞭解有關度假日的 HR 原則意圖，請確定您有語句，代表用於您所提供之所有區域的條款。  例如，在歐洲，人們可能會詢問相關資訊， `taking a holiday` 並在美國人員提問 `taking vacation days` 。
    * **語言多樣性**：如果您有使用者使用以第二種語言進行通訊的各種原生語言，請務必具有代表非原生喇叭的語句。
    * **輸入多樣性**：考慮您的資料輸入路徑。 如果您要從一個人、部門或輸入裝置 (麥克風收集資料) 您可能遺失了多樣性，讓您的應用程式瞭解所有輸入路徑都很重要。
    * **標點符號多樣性**：請考慮人們在文字應用程式中使用不同的標點符號層級，並確定您有使用標點符號的多樣性。 如果您使用來自「語音」的資料，它不會有任何標點符號，所以您的資料不應該是。
* **資料散發**：確定跨意圖的資料會代表用戶端應用程式所接收的相同資料散佈。 如果您的 LUIS 應用程式會將要求排程的語句分類 (50% ) ，但它也會看到有關將休假剩餘天數 (20% 的 ) 、核准離開 (20% ) 和部分超出範圍和閒聊的交談 (10% ) 然後您的資料集應該會有每個語句類型的取樣百分比。
* **使用所有資料格式**：如果您的 LUIS 應用程式將會以多種形式取得資料，請務必將這些表單包含在定型語句中。 例如，如果您的用戶端應用程式同時接受語音和輸入的文字輸入，您必須有語音轉換文字產生的語句以及具類型的語句。  您將會看到人們如何從其輸入的方式和語音辨識中的不同錯誤以及打字錯誤的不同變化。  所有的變化都應該在定型資料中表示。
* **正面和負面的範例**：若要教授 LUIS 應用程式，它必須瞭解意圖 (正面) 以及不 (負) 。 在 LUIS 中，單一意圖的語句只能是正數。 將語句新增至意圖時，LUIS 會自動讓相同的範例語句所有其他意圖的負範例。
* **應用程式範圍以外的資料**：如果您的應用程式會看到落在您定義意圖之外的語句，請務必提供這些資料。 未指派給特定定義意圖的範例將會標示為「 **無** 」意圖。  「 **無** 」意圖必須有實際的範例，才能正確預測定義意圖範圍外的語句。

    例如，如果您要建立專注于離開時間的 HR bot，而且有三個意圖：
    * 排程或編輯離開
    * 查詢可用的休假天數
    * 核准/disapprove 離開

    您想要確定您有涵蓋這兩個意圖的語句，但也涵蓋了應用程式應如下所示之範圍以外的潛在語句：
    * `What are my medical benefits?`
    * `Who is my HR rep?`
    * `tell me a joke`
* **罕見範例**：您的應用程式需要很少的範例和一般範例。  如果您的應用程式從未見過罕見的範例，它將無法在生產環境中加以識別。 如果您使用的是實際資料，您將能夠更精確地預測您的 LUIS 應用程式在生產環境中的運作方式。

### <a name="quality-instead-of-quantity"></a>品質而非數量

在新增更多資料之前，請先考慮現有資料的品質。  有了 LUIS，您就會使用機器教學。  您的標籤和您所定義的機器學習功能的組合，就是您的 LUIS 應用程式所使用的功能。  它不只會依賴標籤數量來做出最佳預測。  您的 LUIS 應用程式在生產環境中看到的範例多樣性及其標記法是最重要的部分。

### <a name="preprocessing-data"></a>前置處理資料

下列前置處理步驟可協助您建立更好的 LUIS 應用程式：

* **移除重複專案**：重複的語句不會有負面影響，但它們不會有任何説明，因此移除它們將可節省標記時間。
* 套用 **相同的客戶** 端應用程式前置處理：如果您的用戶端應用程式會呼叫 LUIS 預測端點，則會在執行時間套用資料處理，然後將文字傳送至 LUIS，您應該在以相同方式處理的資料上定型 LUIS 應用程式。 例如，如果您的用戶端應用程式使用 [Bing 拼寫檢查](../bing-spell-check/overview.md) 來修正對 LUIS 輸入的拼寫，請先更正定型和測試語句，再新增至 LUIS。
* **請勿套用用戶端應用程式不使用的新清除程式**：如果您的用戶端應用程式直接接受語音產生的文字，而沒有任何清除（例如文法或標點符號），則您的語句必須反映相同的內容，包括任何遺漏的標點符號，以及您需要考慮的其他 misrecognition。
* **請勿清除資料**：不去除格式不正確的輸入，您可能會從模糊的語音辨識、意外 keypresses 或拼錯/拼錯的文字中取得。 如果您的應用程式會看到像這樣的輸入，就必須在其上進行定型和測試。 如果您不希望應用程式瞭解它，請新增 _格式不正確的輸入_ 意圖。 為此資料加上標籤，以協助您的 LUIS 應用程式在執行時間預測正確的回應。 您的用戶端應用程式可以為無法辨識的語句（例如）選擇適當的回應 `Please try again` 。

### <a name="labeling-data"></a>標記資料

* 將 **文字標記為正確**：範例語句應該具有標記的所有實體表單。 這包括拼錯、錯和 mistranslated 的文字。

### <a name="data-review-after-luis-app-is-in-production"></a>LUIS 應用程式進入生產階段之後的資料審核

當您將應用程式部署至生產環境後，請[參閱端點語句](luis-concept-review-endpoint-utterances.md)來監視實際語句流量。  這可讓您使用實際資料來更新定型語句，進而改善您的應用程式。 任何使用面向來源或非實際案例資料建立的應用程式，都必須根據其實際使用方式加以改善。

## <a name="test-data-selection-for-batch-testing"></a>測試批次測試的資料選取範圍

上述針對定型語句所列的所有準則，適用于您應該用於 [測試集](./luis-how-to-batch-test.md)的語句。 請確定跨意圖和實體的分佈都盡可能地反映實際分佈。

請勿重複使用您的測試集中定型集內的語句。 這不會對您的結果產生不當的偏差，也不會讓您正確指出 LUIS 應用程式在生產環境中的執行方式。

當您的應用程式的第一個版本發行之後，您應該使用語句從真實流量更新測試集，以確保您的測試集反映您的生產散發，而且可以監視一段時間的實際效能。

## <a name="next-steps"></a>後續步驟

> [!div class="nextstepaction"]
> [瞭解 LUIS 如何在預測前改變您的資料](luis-concept-data-alteration.md)