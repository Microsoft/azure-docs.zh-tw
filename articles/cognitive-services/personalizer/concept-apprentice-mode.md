---
title: 新手模式-個人化工具
description: 瞭解如何在不變更任何程式碼的情況下，使用新手模式來獲得模型的信心。
ms.service: cognitive-services
ms.subservice: personalizer
ms.topic: conceptual
ms.date: 05/01/2020
ms.openlocfilehash: f2b9f6dfe60aa50eb4ec6da76fe8781ecd8a1f13
ms.sourcegitcommit: 4e70fd4028ff44a676f698229cb6a3d555439014
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/28/2021
ms.locfileid: "98951322"
---
# <a name="use-apprentice-mode-to-train-personalizer-without-affecting-your-existing-application"></a>使用新手模式來定型個人化工具，而不會影響現有的應用程式

由於 **真實世界** 增強式學習的本質，個人化工具模型只能在生產環境中進行定型。 部署新的使用案例時，個人化工具模型不會有效率地執行，因為模型需要一些時間才能充分定型。  **新手模式** 是一種可簡化這種情況的學習行為，可讓您在沒有開發人員變更任何程式碼的情況下，對模型有信心。

[!INCLUDE [Important Blue Box - Apprentice mode pricing tier](./includes/important-apprentice-mode.md)]

## <a name="what-is-apprentice-mode"></a>什麼是新手模式？

類似于新手從主主機學習的方式，而且體驗可能會變得更好;新手模式是一 _種行為_ ，可讓個人化工具觀察從現有應用程式邏輯取得的結果來學習。

個人化工具會模擬與應用程式相同的輸出來進行定型。 作為更多事件流程，個人化工具可以 _趕上_ 現有的應用程式，而不會影響現有的邏輯和結果。 計量（可從 Azure 入口網站和 API 取得）可協助您瞭解模型學習時的效能。

一旦個人化工具學習並獲得某種程度的瞭解之後，開發人員就可以將行為從新手模式變更為線上模式。 屆時，個人化工具會開始影響排名 API 中的動作。

## <a name="purpose-of-apprentice-mode"></a>新手模式的用途

新手模式可讓您信任個人化工具服務和其機器學習服務功能，並可讓您在不需承擔任何風險的線上流量的情況下，將可從中學習的資訊傳送至服務。

使用新手模式的兩個主要原因如下：

* 緩和 **冷啟動**：新手模式有助於管理和評估「新的」模型學習時間的成本-不會傳回最佳動作，也無法達到大約60-80% 的令人滿意的效能等級。
* **驗證動作和內容功能**：在動作和內容中傳送的功能可能不適當或不准確-太小、太多、不正確或太明確，無法定型個人化工具以達到理想的有效性率。 使用 [功能評估](concept-feature-evaluation.md) 來尋找和修正功能的問題。

## <a name="when-should-you-use-apprentice-mode"></a>何時應該使用新手模式？

使用新手模式來定型個人化工具，以改善其在下列案例中的效率，同時讓您的使用者體驗不受個人化工具影響：

* 您要在新的使用案例中執行個人化工具。
* 您已大幅變更在內容或動作中傳送的功能。
* 您已大幅變更計算獎勵的時機和方式。

新手模式並不是測量個人化工具對獎勵分數有何影響的有效方式。 若要測量個人化工具在選擇每個排名呼叫的最佳可能動作時，請使用 [離線評估](concepts-offline-evaluation.md)。

## <a name="who-should-use-apprentice-mode"></a>誰應該使用新手模式？

新手模式適用于開發人員、資料科學家和業務決策者：

* **開發人員** 可以使用新手模式來確定應用程式中的排名和獎勵 api 已正確使用，而且從應用程式傳送至個人化工具的功能不包含任何 bug 或不相關的功能，例如時間戳記或 UserID 元素。

* **資料科學家** 可以使用新手模式來驗證功能是否有效，以定型個人化工具模型，而獎勵等候時間不太長或較短。

* **企業決策者** 可以使用新手模式來評估個人化工具的潛能，以改善結果 (例如，相較于現有的商務邏輯，獎勵) 。 這讓他們能夠做出明智的決策影響使用者體驗，其中真正的收益和使用者滿意度都有相關的影響。

## <a name="comparing-behaviors---apprentice-mode-and-online-mode"></a>比較行為-新手模式和線上模式

在新手模式中學習何時會以下列方式與線上模式不同。

|區域|新手模式|線上 模式|
|--|--|--|
|對使用者經驗的影響|您可以使用現有的使用者行為來定型個人化工具，讓它觀察 (不會影響您的 **預設動作** ，以及它所取得的報酬) 。 這表示您的使用者體驗和商務結果不會受到影響。|顯示從排名呼叫傳回的最上層動作，以影響使用者的行為。|
|學習速度|在新手模式下，個人化工具的學習速度會比在線上模式中學習更慢。 新手模式只能透過觀察您的 **預設動作** 取得的獎勵來學習，這會限制學習的速度，因為無法執行任何探索。|學習速度更快，因為它可以利用目前的模型，並探索新的趨勢。|
|學習效率「上限」|個人化工具可以近似、非常罕見，而且永遠不會超出基礎商務邏輯的效能， (每個排名呼叫) 的 **預設動作** 所達到的獎勵總計。|個人化工具應超過應用程式基準，而在一段時間後，您應該執行離線評估和功能評估，以繼續取得模型的改進。 |
|RewardActionId 的排名 API 值|使用者的體驗不會受到影響，因為 _rewardActionId_ 一律是您在排名要求中傳送的第一個動作。 換句話說，在新手模式中，排名 API 不會對您的應用程式顯示任何內容。 您應用程式中的獎勵 Api 不應變更其在一個模式和另一個模式之間使用獎勵 API 的方式。|個人化工具為您的應用程式選擇的 _rewardActionId_ 會變更使用者體驗。 |
|評估|個人化工具會比較您的預設商務邏輯所取得的獎勵總計，而且如果在線上模式中，則會在該時間點取得獎勵總計個人化工具。 該資源的 Azure 入口網站中提供比較|藉由執行 [離線評估](concepts-offline-evaluation.md)來評估個人化工具的成效，讓您可以比較個人化工具針對應用程式基準的潛在報酬所達成的總獎勵。|

新手模式有效性的注意事項：

* 個人化工具在新手模式中的成效很少會達到應用程式基準的100%，而且永遠不會超過它。
* 最佳做法不會嘗試達到100% 的完成;但60% –80% 的範圍應根據使用案例來設為目標。

## <a name="using-apprentice-mode-to-train-with-historical-data"></a>使用新手模式來訓練歷程記錄資料

如果您有大量的歷程記錄資料，您想要使用來定型個人化工具，您可以使用新手模式透過個人化工具來重新執行資料。

在新手模式中設定個人化工具，並建立腳本，以使用歷程記錄資料中的動作和內容功能來呼叫排名。 根據您在此資料中的記錄計算來呼叫獎勵 API。 您將需要大約50000個歷程記錄事件來查看某些結果，但建議使用500000來提高結果的信賴度。

從歷程記錄資料進行定型時，建議在內容和動作的 (功能中傳送資料、在用於排名要求的 JSON 中使用其配置，以及在此訓練資料集) 中計算報酬量，以符合現有應用程式所提供的資料 (功能以及獎勵) 的計算。

離線和實際資料的資料可能會比較不完整且嘈雜，格式也不同。 雖然可以從歷程記錄資料進行定型，但這麼做的結果可能不正確，也不是個人化工具將學習的良好預測，尤其是在過去的資料和現有的應用程式之間，這些功能有何不同。

通常針對個人化工具，相較于使用歷程記錄資料進行定型，將行為變更為新手模式，並從現有的應用程式學習，是擁有有效模型的有效路徑，具有較少的人力、資料工程和清除工作。

## <a name="using-apprentice-mode-versus-ab-tests"></a>使用新手模式與 A/B 測試

只有在經過驗證並在線上模式中學習時，才會對個人化工具處理進行 A/B 測試。 在新手模式中，只會使用 **預設動作** ，這表示所有使用者都能有效地查看控制項體驗。

即使個人化工具只是 _處理_ 方式，在驗證資料是否適合定型個人化工具時也會有相同的挑戰。 新手模式可以改為使用100% 的流量，並讓所有使用者取得控制項 (不會影響) 體驗。

當您使用個人化工具和 learning online 的使用案例時，A/B 實驗可讓您對結果進行受控制的世代和科學比較，這些結果可能比用於獎勵的信號更複雜。 A/B 測試可以回答的範例問題如下： `In a retail website, Personalizer optimizes a layout and gets more users to _check out_ earlier, but does this reduce total revenue per transaction?`

## <a name="next-steps"></a>下一步

* 瞭解作用中[和非](concept-active-inactive-events.md)作用中的活動
