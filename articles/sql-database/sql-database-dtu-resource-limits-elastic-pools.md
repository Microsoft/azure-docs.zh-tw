---
title: Azure SQL Database 以 DTU 為基礎的資源限制 - 彈性集區 | Microsoft Docs
description: 此頁面將針對 Azure SQL Database 中的彈性集區，說明一些以 DTU 為基礎的常見資源限制。
services: sql-database
ms.service: sql-database
ms.subservice: elastic-pools
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: sachinpMSFT
ms.author: sachinp
ms.reviewer: carlrab
manager: craigg
ms.date: 09/20/2018
ms.openlocfilehash: b2efdf0b1a8abe91589f56ecbb6dc01f7606f305
ms.sourcegitcommit: 51a1476c85ca518a6d8b4cc35aed7a76b33e130f
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/25/2018
ms.locfileid: "47158982"
---
# <a name="resources-limits-for-elastic-pools-using-the-dtu-based-purchasing-model"></a>使用以 DTU 為基礎的購買模型的彈性集區資源限制 

本文使用以 DTU 為基礎的購買模型，來提供 Azure SQL Database 彈性集區和集區資料庫的詳細資源限制。 

如需單一資料庫以 DTU 為基礎的購買模型資源限制，請參閱[以 DTU 為基礎的資源限制 - 單一資料庫](sql-database-vcore-resource-limits-elastic-pools.md)。 如需以虛擬核心為基礎的資源限制，請參閱[以虛擬核心為基礎的資源限制 - 單一資料庫](sql-database-vcore-resource-limits-single-databases.md)和[以虛擬核心為基礎的資源限制 - 彈性集區](sql-database-vcore-resource-limits-elastic-pools.md)。

> [!IMPORTANT]
> 在某些情況下，您可能需要壓縮資料庫來回收未使用的空間。 如需詳細資訊，請參閱[管理 Azure SQL Database 中的檔案空間](sql-database-file-space-management.md)。

## <a name="elastic-pool-storage-sizes-and-compute-sizes"></a>彈性集區：儲存體大小與計算大小

針對 SQL Database 彈性集區，下表顯示每個服務層與計算大小的可用資源。 您可以使用 [Azure 入口網站](sql-database-elastic-pool-manage.md#azure-portal-manage-elastic-pools-and-pooled-databases)、[PowerShell](sql-database-elastic-pool-manage.md#powershell-manage-elastic-pools-and-pooled-databases)、[Azure CLI](sql-database-elastic-pool-manage.md#azure-cli-manage-elastic-pools-and-pooled-databases) 或 [REST API](sql-database-elastic-pool-manage.md#rest-api-manage-elastic-pools-and-pooled-databases)，來設定服務層、計算大小與儲存體數量。

> [!NOTE]
> 根據 DTU 和服務層，彈性集區中個別資料庫的資源限制通常與集區外部之單一資料庫的資源限制相同。 例如，S2 資料庫的並行背景工作數上限是 120 個背景工作。 因此，如果集區中每個資料庫的最大 DTU 是 50 DTU (這相當於 S2)，標準集區中的資料庫最大並行背景工作數上限也會是 120 個背景工作。

### <a name="basic-elastic-pool-limits"></a>基本彈性集區限制

| 每集區 eDTU | **50** | **100** | **200** | **300** | **400** | **800** | **1200** | **1600** |
|:---|---:|---:|---:| ---: | ---: | ---: | ---: | ---: |
| 每個集區內含的儲存體 (GB) | 5 | 10 | 20 | 29 | 39 | 78 | 117 | 156 |
| 每個集區的最大儲存體選擇 (GB) | 5 | 10 | 20 | 29 | 39 | 78 | 117 | 156 |
| 每個集區的記憶體內部 OLTP 儲存體上限 (GB) | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A |
| 每個集區的最大 DB 數 | 100 | 200 | 500 | 500 | 500 | 500 | 500 | 500 |
| 每個集區的並行背景工作 (要求) 數上限 | 100 | 200 | 400 | 600 | 800 | 1600 | 2400 | 3200 |
| 每集區並行工作階段數上限 | 30000 | 30000 | 30000 | 30000 |30000 | 30000 | 30000 | 30000 |
| 每個資料庫的最小 eDTU 選擇 | 0, 5 | 0, 5 | 0, 5 | 0, 5 | 0, 5 | 0, 5 | 0, 5 | 0, 5 |
| 每個資料庫的最大 eDTU 選擇 | 5 | 5 | 5 | 5 | 5 | 5 | 5 | 5 |
| 每個資料庫的儲存體上限 (GB) | 2 | 2 | 2 | 2 | 2 | 2 | 2 | 2 | 
||||||||

### <a name="standard-elastic-pool-limits"></a>標準彈性集區限制

| 每集區 eDTU | **50** | **100** | **200** | **300** | **400** | **800**| 
|:---|---:|---:|---:| ---: | ---: | ---: | 
| 每個集區內含的儲存體 (GB) | 50 | 100 | 200 | 300 | 400 | 800 | 
| 每個集區的最大儲存體選擇 (GB) | 50, 250, 500 | 100, 250, 500, 750 | 200, 250, 500, 750, 1024 | 300, 500, 750, 1024, 1280 | 400, 500, 750, 1024, 1280, 1536 | 800, 1024, 1280, 1536, 1792, 2048 | 
| 每個集區的記憶體內部 OLTP 儲存體上限 (GB) | N/A | N/A | N/A | N/A | N/A | N/A | 
| 每個集區的最大 DB 數 | 100 | 200 | 500 | 500 | 500 | 500 | 
| 每個集區的並行背景工作 (要求) 數上限 | 100 | 200 | 400 | 600 | 800 | 1600 |
| 每集區並行工作階段數上限 | 30000 | 30000 | 30000 | 30000 | 30000 | 30000 |
| 每個資料庫的最小 eDTU 選擇 | 0, 10, 20, 50 | 0、10、20、50、100 | 0, 10, 20, 50, 100, 200 | 0, 10, 20, 50, 100, 200, 300 | 0, 10, 20, 50, 100, 200, 300, 400 | 0, 10, 20, 50, 100, 200, 300, 400, 800 |
| 每個資料庫的最大 eDTU 選擇 | 10, 20, 50 | 10、20、50、100 | 10, 20, 50, 100, 200 | 10, 20, 50, 100, 200, 300 | 10, 20, 50, 100, 200, 300, 400 | 10, 20, 50, 100, 200, 300, 400, 800 | 
| 每個資料庫的儲存體上限 (GB) | 500 | 750 | 1024 | 1024 | 1024 | 1024 |
||||||||

### <a name="standard-elastic-pool-limits-continued"></a>標準彈性集區限制 (續) 

| 每集區 eDTU | **1200** | **1600** | **2000** | **2500** | **3000** |
|:---|---:|---:|---:| ---: | ---: |
| 每個集區內含的儲存體 (GB) | 1200 | 1600 | 2000 | 2500 | 3000 | 
| 每個集區的最大儲存體選擇 (GB) | 1200, 1280, 1536, 1792, 2048, 2304, 2560 | 1600, 1792, 2048, 2304, 2560, 2816, 3072 | 2000, 2048, 2304, 2560, 2816, 3072, 3328, 3584 | 2500, 2560, 2816, 3072, 3328, 3584, 3840, 4096 | 3000, 3072, 3328, 3584, 3840, 4096 |
| 每個集區的記憶體內部 OLTP 儲存體上限 (GB) | N/A | N/A | N/A | N/A | N/A | 
| 每個集區的最大 DB 數 | 500 | 500 | 500 | 500 | 500 | 
| 每個集區的並行背景工作 (要求) 數上限 | 2400 | 3200 | 4000 | 5000 | 6000 |
| 每集區並行工作階段數上限 | 30000 | 30000 | 30000 | 30000 | 30000 | 
| 每個資料庫的最小 eDTU 選擇 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000, 2500 | 0, 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000, 2500, 3000 |
| 每個資料庫的最大 eDTU 選擇 | 10, 20, 50, 100, 200, 300, 400, 800, 1200 | 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600 | 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000 | 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000, 2500 | 10, 20, 50, 100, 200, 300, 400, 800, 1200, 1600, 2000, 2500, 3000 | 
| 每個資料庫的最大儲存體選擇 (GB) | 1024 | 1024 | 1024 | 1024 | 1024 | 
||||||||

### <a name="premium-elastic-pool-limits"></a>高階彈性集區限制

| 每集區 eDTU | **125** | **250** | **500** | **1000** | **1500**| 
|:---|---:|---:|---:| ---: | ---: | 
| 每個集區內含的儲存體 (GB) | 250 | 500 | 750 | 1024 | 1536 | 
| 每個集區的最大儲存體選擇 (GB) | 250, 500, 750, 1024 | 500, 750, 1024 | 750, 1024 | 1024 | 1536 |
| 每個集區的記憶體內部 OLTP 儲存體上限 (GB) | 1 | 2 | 4 | 10 | 12 | 
| 每個集區的最大 DB 數 | 50 | 100 | 100 | 100 | 100 | 
| 每個集區的並行背景工作 (要求) 數上限 | 200 | 400 | 800 | 1600 | 2400 | 
| 每集區並行工作階段數上限 | 30000 | 30000 | 30000 | 30000 | 30000 | 
| 每資料庫的 eDTU 下限 | 0, 25, 50, 75, 125 | 0, 25, 50, 75, 125, 250 | 0, 25, 50, 75, 125, 250, 500 | 0, 25, 50, 75, 125, 250, 500, 1000 | 0, 25, 50, 75, 125, 250, 500, 1000, 1500 | 
| 每資料庫的 eDTU 上限 | 25, 50, 75, 125 | 25, 50, 75, 125, 250 | 25, 50, 75, 125, 250, 500 | 25, 50, 75, 125, 250, 500, 1000 | 25, 50, 75, 125, 250, 500, 1000, 1500 |
| 每個資料庫的儲存體上限 (GB) | 1024 | 1024 | 1024 | 1024 | 1024 | 
||||||||

### <a name="premium-elastic-pool-limits-continued"></a>高階彈性集區限制 (續) 

| 每集區 eDTU | **2000** | **2500** | **3000** | **3500** | **4000**|
|:---|---:|---:|---:| ---: | ---: | 
| 每個集區內含的儲存體 (GB) | 2048 | 2560 | 3072 | 3548 | 4096 |
| 每個集區的最大儲存體選擇 (GB) | 2048 | 2560 | 3072 | 3548 | 4096|
| 每個集區的記憶體內部 OLTP 儲存體上限 (GB) | 16 | 20 | 24 | 28 | 32 |
| 每個集區的最大 DB 數 | 100 | 100 | 100 | 100 | 100 | 
| 每個集區的並行背景工作 (要求) 數上限 | 3200 | 4000 | 4800 | 5600 | 6400 |
| 每集區並行工作階段數上限 | 30000 | 30000 | 30000 | 30000 | 30000 | 
| 每個資料庫的最小 eDTU 選擇 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750 | 0, 25, 50, 75, 125, 250, 500, 1000, 1750, 4000 | 
| 每個資料庫的最大 eDTU 選擇 | 25, 50, 75, 125, 250, 500, 1000, 1750 | 25, 50, 75, 125, 250, 500, 1000, 1750 | 25, 50, 75, 125, 250, 500, 1000, 1750 | 25, 50, 75, 125, 250, 500, 1000, 1750 | 25, 50, 75, 125, 250, 500, 1000, 1750, 4000 | 
| 每個資料庫的儲存體上限 (GB) | 1024 | 1024 | 1024 | 1024 | 1024 | 
||||||||

> [!IMPORTANT]
> 所有區域目前均可取得進階層中超過 1 TB 的儲存體，下列區域除外：美國中西部、中國東部、USDoDCentral、德國中部、USDoDEast、US Gov (西南部)、德國東北部、US Gov (愛荷華州)、中國北部。 在其他區域，進階層中的儲存空間上限為 1 TB。 請參閱 [P11-P15 目前限制](sql-database-dtu-resource-limits-single-databases.md#single-database-limitations-of-p11-and-p15-when-the-maximum-size-greater-than-1-tb)。  

如果彈性集區的所有 DTU 均已使用，則集區中的每個資料庫會收到等量的資源以處理查詢。 SQL Database 服務藉由確保運算時間的均等配量，提供資料庫之間的資源共用公平性。 彈性集區資源共用公平性不包括任何資源數量，否則當每個資料庫的最小 DTU 數設為非零的值時，便會對每個資料庫保證資源數量。

### <a name="database-properties-for-pooled-databases"></a>集區資料庫的資料庫屬性

下表描述集區資料表的屬性。

| 屬性 | 說明 |
|:--- |:--- |
| 每資料庫的 eDTU 上限 |集區中任何資料庫可以使用的 eDTU 數目上限，是否可用則是根據集區中其他資料庫的使用量而定。 每個資料庫的 eDTU 數目上限不等於資料庫的資源保證。 這個設定是全域設定，會套用至集區中的所有資料庫。 將每個資料庫的 eDTU 設定為最上限，以處理資料庫使用率的尖峰。 某種程度的過量使用是可預期的情況，因為集區通常會假設資料庫的熱門和冷門使用模式；在這些模式中，所有資料庫不會同時處於尖峰期。 例如，假設每個資料庫的尖峰使用量是 20 個 DTU，且集區中的 100 個資料庫只有 20% 會同時暴增到尖峰。 如果每一資料庫的 eDTU 上限設為 20 個 eDTU，則以 5 倍的量過量使用集區，並將每集區 eDTU 設為 400 個是合理的作法。 |
| 每資料庫的 eDTU 下限 |集區中單一資料庫能夠保證的最小 eDTU 數。 這個設定是全域設定，會套用至集區中的所有資料庫。 每個資料庫最小 eDTU 建議設定為 0，同時也是預設值。 此屬性會設為 0 到每一資料庫的 eDTU 使用量平均值之間的任意數。 集區中資料庫數目和每個資料庫 eDTU 數目下限的乘積不能超過每個集區的 eDTU。 例如，如果集區有 20 個資料庫，且每個資料庫的最小 eDTU 設定為 10 eDTU，則每個集區 eDTU 必須至少為 200 個 eDTU。 |
| 每個資料庫的儲存體上限 |使用者所設定集區資料庫的資料庫大小上限。 不過，集區化的資料庫會共用配置的集區儲存體。 即使將「每個資料庫」的儲存體上限總計設定為大於「集區空間」的可用儲存體總計，但所有資料庫實際使用的總空間將不得超過可用的集區限制。 資料庫大小上限是指資料檔案的大小上限，並不包含記錄檔所使用的空間。 |
|||
 


## <a name="next-steps"></a>後續步驟

- 請參閱 [SQL Database 常見問題集](sql-database-faq.md)以取得常見問題的解答。
- 如需伺服器或訂用帳戶層級的限制資訊，請參閱 [Azure SQL Database 資源限制概觀](sql-database-resource-limits.md)。
- 如需一般 Azure 限制的相關資訊，請參閱 [Azure 訂用帳戶和服務限制、配額及條件約束](../azure-subscription-service-limits.md)。
- 如需 DTU 與 eDTU 的相關資訊，請參閱 [DTU 與 eDTU](sql-database-service-tiers.md#what-are-database-transaction-units-dtus)。
- 如需 tempdb 大小限制的相關資訊，請參閱 https://docs.microsoft.com/sql/relational-databases/databases/tempdb-database#tempdb-database-in-sql-database。
