---
title: Azure SQL Database 以虛擬核心為基礎的資源限制 - 彈性集區 | Microsoft Docs
description: 此頁面將針對 Azure SQL Database 中的彈性集區，說明一些以虛擬核心為基礎的常見資源限制。
services: sql-database
ms.service: sql-database
ms.subservice: elastic-pool
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: oslake
ms.author: moslake
ms.reviewer: carlrab
manager: craigg
ms.date: 09/14/2018
ms.openlocfilehash: 3c85398f140ccd61202c066f4394fa54358e0a1e
ms.sourcegitcommit: 51a1476c85ca518a6d8b4cc35aed7a76b33e130f
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/25/2018
ms.locfileid: "47161559"
---
# <a name="azure-sql-database-vcore-based-purchasing-model-limits-for-elastic-pools"></a>針對彈性集區，Azure SQL Database 虛擬核心形式的購買模型限制

本文使用以虛擬核心為基礎的購買模型，來提供 Azure SQL Database 彈性集區和集區資料庫的詳細資源限制。

如需以 DTU 為基礎的購買模型限制，請參閱 [SQL Database 以 DTU 為基礎的資源限制 - 彈性集區](sql-database-dtu-resource-limits-elastic-pools.md)。

> [!IMPORTANT]
> 在某些情況下，您可能需要壓縮資料庫來回收未使用的空間。 如需詳細資訊，請參閱[管理 Azure SQL Database 中的檔案空間](sql-database-file-space-management.md)。

## <a name="elastic-pool-storage-sizes-and-compute-sizes"></a>彈性集區：儲存體大小與計算大小

針對 SQL Database 彈性集區，下表顯示每個服務層與計算大小的可用資源。 您可以使用 [Azure 入口網站](sql-database-elastic-pool-manage.md#azure-portal-manage-elastic-pools-and-pooled-databases)、[PowerShell](sql-database-elastic-pool-manage.md#powershell-manage-elastic-pools-and-pooled-databases)、[Azure CLI](sql-database-elastic-pool-manage.md#azure-cli-manage-elastic-pools-and-pooled-databases) 或 [REST API](sql-database-elastic-pool-manage.md#rest-api-manage-elastic-pools-and-pooled-databases)，來設定服務層、計算大小與儲存體數量。

> [!NOTE]
> 彈性集區中個別資料庫的資源限制通常與集區外部具有相同計算大小的單一資料庫資源限制相同。 例如，GP_Gen4_1 資料庫的並行背景工作上限是 200 個背景工作。 因此，GP_Gen4_1 集區中資料庫的並行背景工作上限也是 200 個背景工作。 請注意，GP_Gen4_1 集區中的並行背景工作總數為 210。

### <a name="general-purpose-service-tier"></a>一般用途服務層

#### <a name="generation-4-compute-platform"></a>第 4 代計算平台
|計算大小|GP_Gen4_1|GP_Gen4_2|GP_Gen4_4|GP_Gen4_8|GP_Gen4_16|GP_Gen4_24|
|:--- | --: |--: |--: |--: |--: |--: |
|H/W 產生|4|4|4|4|4|4|
|虛擬核心|1|2|4|8|16|24|
|記憶體 (GB)|7|14|28|56|112|168|
|資料行存放區支援|是|yes|yes|yes|yes|是|
|OLTP 記憶體內部儲存體 (GB)|N/A|N/A|N/A|N/A|N/A|N/A|
|儲存體類型|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|
|資料大小上限 (GB)|512|756|1536|2048|3584|4096|
|記錄大小上限|154|227|461|614|1075|1229|
|TempDB 大小 (DB)|32|64|128|256|384|384|
|目標 IOPS (64 KB)|500|1000|2000|4000|7000|7000|
|IO 延遲 (大約)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|
|並行背景工作 (要求) 數上限|210|420|840|1680|3360|5040|
|允許的工作階段數上限|30000|30000|30000|30000|30000|30000|
|每個集區的最大 DB 數|100|200|500|500|500|500|
|每個資料庫最小/最大彈性集區虛擬核心選項|0, 0.25, 0.5, 1|0, 0.25, 0.5, 1, 2|0, 0.25, 0.5, 1, 2, 4|0, 0.25, 0.5, 1, 2, 4, 8|0, 0.25, 0.5, 1, 2, 4, 8, 16|0, 0.25, 0.5, 1, 2, 4, 8, 16, 24|
|複本數目|1|1|1|1|1|1|
|多重 AZ|N/A|N/A|N/A|N/A|N/A|N/A|
|讀取向外延展|N/A|N/A|N/A|N/A|N/A|N/A|
|內含備份儲存體|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|
|||

#### <a name="generation-5-compute-platform"></a>第 5 代計算平台
|計算大小|GP_Gen5_2|GP_Gen5_4|GP_Gen5_8|GP_Gen5_16|GP_Gen5_24|GP_Gen5_32|GP_Gen5_40|GP_Gen5_80|
|:--- | --: |--: |--: |--: |--: |--: |--: |--: |
|H/W 產生|5|5|5|5|5|5|5|5|
|虛擬核心|2|4|8|16|24|32|40|80|
|記憶體 (GB)|11|22|44|88|132|176|220|440|
|資料行存放區支援|是|yes|yes|yes|yes|yes|yes|是|
|OLTP 記憶體內部儲存體 (GB)|N/A|N/A|N/A|N/A|N/A|N/A|N/A|N/A|
|儲存體類型|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|進階 (遠端) 儲存體|
|資料大小上限 (GB)|512|756|1536|2048|3072|4096|4096|4096|
|記錄大小上限|154|227|461|614|922|1229|1229|1229|
|TempDB 大小 (DB)|64|128|256|384|384|384|384|384|
|目標 IOPS (64 KB)|500|1000|2000|4000|6000|7000|7000|7000|
|IO 延遲 (大約)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|5-7 毫秒 (寫入)<br>5-10 毫秒 (讀取)|
|並行背景工作 (要求) 數上限|210|420|840|1680|2520|3360|4200|8400
|允許的工作階段數上限|30000|30000|30000|30000|30000|30000|30000|30000|
|每個集區的最大 DB 數|100|200|500|500|500|500|500|500|
|每個資料庫最小/最大彈性集區虛擬核心選項|0, 0.25, 0.5, 1, 2|0, 0.25, 0.5, 1, 2, 4|0, 0.25, 0.5, 1, 2, 4, 8|0, 0.25, 0.5, 1, 2, 4, 8, 16|0, 0.25, 0.5, 1, 2, 4, 8, 16, 24|0, 0.5, 1, 2, 4, 8, 16, 24, 32|0, 0.5, 1, 2, 4, 8, 16, 24, 32, 40|0, 0.5, 1, 2, 4, 8, 16, 24, 32, 40, 80|
|複本數目|1|1|1|1|1|1|1|1|
|多重 AZ|N/A|N/A|N/A|N/A|N/A|N/A|N/A|N/A|
|讀取向外延展|N/A|N/A|N/A|N/A|N/A|N/A|N/A|N/A|
|內含備份儲存體|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|
|||

### <a name="business-critical-service-tier"></a>業務關鍵服務層

#### <a name="generation-4-compute-platform"></a>第 4 代計算平台
|計算大小|BC_Gen4_1|BC_Gen4_2|BC_Gen4_4|BC_Gen4_8|BC_Gen4_16|BC_Gen4_24|
|:--- | --: |--: |--: |--: |--: |--: |
|H/W 產生|4|4|4|4|4|4|
|虛擬核心|1|2|4|8|16|24|
|記憶體 (GB)|7|14|28|56|112|168|
|資料行存放區支援|是|yes|yes|yes|yes|是|
|OLTP 記憶體內部儲存體 (GB)|1|2|4|8|20|36|
|儲存體類型|本機 SSD|本機 SSD|本機 SSD|本機 SSD|本機 SSD|本機 SSD|
|資料大小上限 (GB)|1024|1024|1024|1024|1024|1024|
|記錄大小上限|307|307|307|307|307|307|
|TempDB 大小 (DB)|32|64|128|256|384|384|
|目標 IOPS (64 KB)|5000|10000|20000|40000|80000|120000|
|IO 延遲 (大約)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|
|並行背景工作 (要求) 數上限|210|420|840|1680|3360|5040|
|允許的工作階段數上限|30000|30000|30000|30000|30000|30000|
|每個集區的最大 DB 數|只有單一 DB 才支援此計算大小|50|100|100|100|100|
|每個資料庫最小/最大彈性集區虛擬核心選項|N/A|0, 0.25, 0.5, 1, 2|0, 0.25, 0.5, 1, 2, 4|0, 0.25, 0.5, 1, 2, 4, 8|0, 0.25, 0.5, 1, 2, 4, 8, 16|0, 0.25, 0.5, 1, 2, 4, 8, 16, 24|
|複本數目|3|3|3|3|3|3|
|多重 AZ|N/A|N/A|N/A|N/A|N/A|N/A|
|讀取向外延展|是|yes|yes|yes|yes|是|
|內含備份儲存體|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|
|||

#### <a name="generation-5-compute-platform"></a>第 5 代計算平台
|計算大小|BC_Gen5_2|BC_Gen5_4|BC_Gen5_8|BC_Gen5_16|BC_Gen5_24|BC_Gen5_32|BC_Gen5_40|BC_Gen5_80|
|:--- | --: |--: |--: |--: |--: |--: |--: |--: |
|H/W 產生|5|5|5|5|5|5|5|5|
|虛擬核心|2|4|8|16|24|32|40|80|
|記憶體 (GB)|11|22|44|88|132|176|220|440|
|資料行存放區支援|是|yes|yes|yes|yes|yes|yes|是|
|OLTP 記憶體內部儲存體 (GB)|1.571|3.142|6.284|15.768|25.252|37.936|52.22|131.64|
|儲存體類型|本機 SSD|本機 SSD|本機 SSD|本機 SSD|本機 SSD|本機 SSD|本機 SSD|本機 SSD|
|IO 延遲 (大約)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|1-2 毫秒 (寫入)<br>1-2 毫秒 (讀取)|
|資料大小上限 (GB)|1024|1024|1024|1024|2048|4096|4096|4096|
|記錄大小上限|307|307|307|307|614|1229|1229|1229|
|TempDB 大小 (DB)|64|128|256|384|384|384|384|384|
|目標 IOPS (64 KB)|5000|10000|20000|40000|60000|80000|100000|200000
|並行背景工作 (要求) 數上限|210|420|840|1680|2520|3360|5040|8400|
|允許的工作階段數上限|30000|30000|30000|30000|30000|30000|30000|30000|
|每個集區的最大 DB 數|N/A|50|100|100|100|100|100|100|
|每個資料庫最小/最大彈性集區虛擬核心選項|N/A|0, 0.25, 0.5, 1, 2, 4|0, 0.25, 0.5, 1, 2, 4, 8|0, 0.25, 0.5, 1, 2, 4, 8, 16|0, 0.25, 0.5, 1, 2, 4, 8, 16, 24|0, 0.5, 1, 2, 4, 8, 16, 24, 32|0, 0.5, 1, 2, 4, 8, 16, 24, 32, 40|0, 0.5, 1, 2, 4, 8, 16, 24, 32, 40, 80|
|複本數目|3|3|3|3|3|3|3|3|
|多重 AZ|N/A|N/A|N/A|N/A|N/A|N/A|N/A|N/A|
|讀取向外延展|是|yes|yes|yes|yes|yes|yes|是|
|內含備份儲存體|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|1X DB 大小|
|||

如果彈性集區的所有虛擬核心都是忙碌中，則集區中的每個資料庫會收到等量的計算資源以處理查詢。 SQL Database 服務藉由確保運算時間的均等配量，提供資料庫之間的資源共用公平性。 彈性集區資源共用公平性不包括任何資源數量，否則當每個資料庫的最小虛擬核心數設為非零的值時，便會對每個資料庫保證資源數量。

### <a name="database-properties-for-pooled-databases"></a>集區資料庫的資料庫屬性

下表描述集區資料表的屬性。

| 屬性 | 說明 |
|:--- |:--- |
| 每個資料庫的虛擬核心上限 |集區中任何資料庫可以使用的虛擬核心數目上限，是否可用則是根據集區中其他資料庫的使用量而定。 每個資料庫的虛擬核心數目上限不等於資料庫的資源保證。 這個設定是全域設定，會套用至集區中的所有資料庫。 將每個資料庫的虛擬核心設定為最上限，以處理資料庫使用率的尖峰。 某種程度的過量使用是可預期的情況，因為集區通常會假設資料庫的熱門和冷門使用模式；在這些模式中，所有資料庫不會同時處於尖峰期。|
| 每個資料庫的虛擬核心下限 |集區中單一資料庫能夠保證的虛擬核心數下限。 這個設定是全域設定，會套用至集區中的所有資料庫。 每個資料庫最小虛擬核心建議設定為 0，同時也是預設值。 此屬性會設為 0 到每一資料庫的虛擬核心使用量平均值之間的任意數。 集區中資料庫數目和每個資料庫虛擬核心數目下限的乘積不能超過每個集區的虛擬核心。|
| 每個資料庫的儲存體上限 |使用者所設定集區資料庫的資料庫大小上限。 集區資料庫會共用配置的集區儲存體，所以資料庫可以觸達的大小會限制為較小的剩餘集區儲存體和資料庫大小。 資料庫大小上限是指資料檔案的大小上限，並不包含記錄檔所使用的空間。 |
|||
 
## <a name="next-steps"></a>後續步驟

- 請參閱 [SQL Database 常見問題集](sql-database-faq.md)以取得常見問題的解答。
- 如需伺服器或訂用帳戶層級的限制資訊，請參閱 [Azure SQL Database 資源限制概觀](sql-database-resource-limits.md)。
- 如需一般 Azure 限制的相關資訊，請參閱 [Azure 訂用帳戶和服務限制、配額及條件約束](../azure-subscription-service-limits.md)。
